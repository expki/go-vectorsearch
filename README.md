# VectorSearch Project

## Overview
This project uses Ollama to generate vector embeddings for uploaded documents and provides search functions that allow users to query previous uploads. Documents can be stored in either SQLite or PostgreSQL databases.

### Demo

#### Personal Vector Store App
- [https://vectorsearch.vdh.dev](https://vectorsearch.vdh.dev)

#### Wikipedia Vector Search App
- [https://vectorpedia.vdh.dev](https://vectorpedia.vdh.dev)

## Features
- **Vector Embeddings**: Utilizes Ollama to create vector embeddings from user-uploaded documents.
- **Search Functionality**: Enables users to perform searches through previously uploaded documents using the generated embeddings.
- **Database Storage**: Supports storing documents in either SQLite for simplicity and local development, or PostgreSQL for more robust production environments.
- **Swagger Documentation**: Comes with Swagger documentation for easy API interaction and testing.

## Operations
Download a release.
Running the executable will produce a `config.json` file in the current directory. Modify this file to configure your database settings and other parameters.

### Installation
- Prerequisites
    - Debian-based Linux, WSL or Windows
    - Go 1.24 or later

#### Linux

- Ollama:
```bash
curl -fsSL https://ollama.com/install.sh | sh
ollama pull llama3.2
ollama pull nomic-embed-text
```

- Vector Search:
```bash
git clone https://github.com/go-vectorsearch.git
cd go-vectorsearch
./build.sh
```

#### Windows

- Ollama:
    - [https://ollama.com/download/OllamaSetup.exe](https://ollama.com/download/OllamaSetup.exe)
```powershell
ollama pull llama3.2
ollama pull nomic-embed-text
```

- Vector Search:
```powershell
git clone https://github.com/go-vectorsearch.git
cd go-vectorsearch
Invoke-WebRequest -Uri https://unpkg.com/swagger-ui-dist@latest/swagger-ui.css -OutFile ./static/api/swagger-ui.css
Invoke-WebRequest -Uri https://unpkg.com/swagger-ui-dist@latest/swagger-ui-bundle.js -OutFile ./static/api/swagger-ui-bundle.js
New-Item -ItemType Directory -Force -Path ./build/
go build -tags='avx' -o ./build/vectorsearch .
```

### Run App
The configuration file is auto generated if it does not exist.

#### Linux

```bash
./build/vectorsearch ./config.json
```

#### Windows

```powershell
./build/vectorsearch ./config.json
```

### Configuration
The `config.json` file contains all necessary configuration for the application, including:
- Database type (SQLite or PostgreSQL)
- Connection strings for each database type
- Ollama server URL
Not all configuration is required, the autogenerated configuration is sufficient for a MVP installation.
```json
{
    "server": {
        "http_address": ":7500",
        "https_address": ":7501"
    },
    "tls": {
        "dns": ["computer001.localdomain"],
        "ip": ["192.168.1.100"],
        "certificates": [
            {
                "cert_path": "/etc/ssl/certs/server.pem",
                "key_path": "/etc/ssl/private/server.pem"
            }
        ]
    },
    "database": {
        "sqlite": "./vectors.db",
        "postgres": ["host=localhost user=vectorsearch password=1234 dbname=vectordb port=9920 sslmode=disable"],
        "postgres_readonly": ["host=localhost user=vectorsearch password=1234 dbname=vectordb port=9920 sslmode=disable"]
    },
    "ollama": {
        "url": "https://ollama.vdh.dev",
        "embed": "nomic-embed-text",
        "generate": "llama3.2",
        "chat": "llama3.2",
        "token": "bearer-auth-token-1234"
    },
    "cache": "./cache/",
    "log_level": "error"
}
```

## Development
To get started with this project, first follow the installation instructions.

### Run

- `go run . config.json`
